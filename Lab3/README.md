# 图像细节增强实验

[数字图像处理实验——细节增强](https://coding-famer.github.io/blog/2021/12/02/数字图像处理实验——细节增强/)

## 一、 实验目的

1. 实验目标 设计图像分割算法完成实验图像的分割，分割结果“米粒”像素标记为 255，“背 景”像素标记为 0。 

2. 具体要求： 

   （1）程序使用 C++语言编写，集成开发环境可以选择 vs 或 Qt，核心代码不允许直接调 用库函数实现，不允许使用 opencv 等第三方库； 

   （2）独立完成实验，自由设计处理流程和选择算法；

   （3）分割结果以 BMP 格式文件保存，完成实验报告。 

3. 提示 此实验图像存在背景光照不均匀的现象，在设计分割算法时应该加以考虑。

## 二、 处理流程和算法设计

**处理流程**：

![](https://i.loli.net/2021/12/02/EIplt7Na6GXBjHA.png)

**算法设计：**

1. 先通过均值滤波，消除图像噪声，该图像没有特别明显的会产生干扰的噪声，但尝试后发现平滑可以起到一定效果。具体说明见结果分析。

2. 对图像进行分块。由于图像存在背景光照不均匀现象，图像下方的背景色比上方的小，所以将图像进行分块，不同的块使用不同的阈值。考虑到图像大小为474×474像素，将整个图像分为79×79的36个小块。

3. 对每一小块使用大津阈值法，计算出阈值后直接对该块进行分类。

## 三、 实验及结果分析

**实验结果：**

​		![](https://i.loli.net/2021/12/02/VskUP1IXrytfCQa.jpg) ![](https://gitee.com/seugch/image-bed/raw/master/img/2crC1pfEVLmv5FB.jpg)

**结果分析：**

1. 使用均值滤波：图像中看似会对图像分割产生影响的噪声不多，但实验发现滤波还是能产生很大效果。我只尝试了3×3卷积核的均值滤波，感觉可以使用更大的卷积核。

​		![](https://i.loli.net/2021/12/02/E4jGNFuBZVsRqpO.jpg) ![](https://gitee.com/seugch/image-bed/raw/master/img/5FojDbuveNiI7SU.jpg)

​	左侧为未滤波的分割结果，可以看出存在少量噪声的干扰。而经过滤波后这些干扰消失了。

2. 使用分块后计算阈值：该图像存在背景光照不均匀现象，图像下方的背景色比上方的小，如果对整个图像计算阈值，会让上方和下方像素对阈值比较敏感。

​		![](https://gitee.com/seugch/image-bed/raw/master/img/iwZkQfcOm3XturW.jpg) ![](https://i.loli.net/2021/12/02/qToerO1sI4Q3FvU.jpg)

​	左侧为未分块计算阈值后的分割结果，可以看出对于图像下方的影响较大，但对于上方产生的影响不大，由此	可以得出分成36块其实有点多，分为上中下三个部分可能就可以达到类似效果。

3. 总体而言，该算法没有明显不足，可以很好地实现这个图像的分割。

